===============================================================================

	old .PPC(〜ver.4.3) → new .PPC(ver.4.4〜) Converter "CVPPC"

						by M.Kajihara(KAJA)

===============================================================================

	PMDでは、諸般の事情により、Ver.4.4から、ADPCMのRAMの方式として
	それまでのx1bit modeから、x8bit modeに変更し、その結果、やむなく
	PPCデータのフォーマットの変更を行いました。

	よって、昔のデータで、PPCデータが定義出来ないといった場合がある
	ので、その場合にその旧データを新データに変換するコンバータが
	この CVPPC です。

	変換方法は単純で、

>CVPPC FILENAME[.PPC]	(拡張子は省略可)

	で変換します。この際、コンバート前のデータは .ORG に、新データが
	指定したファイル名となります。

-------------------------------------------------------------------------------

	変換出来ないPPCデータも存在します。以下の点をご留意下さい。

-------------------------------------------------------------------------------
１）	音色番号の重複定義をしてから、一括SAVEしたもの。
-------------------------------------------------------------------------------

例)	PMD ver.4.3以前のPMDPCM.EXEで、
>PMDPCM /C
>PMDPCM 1 BD.SPB
>PMDPCM 4 SD.SPB
>PMDPCM 2 TOM.SPB	<< 定義順は 重複していなければ どうなっていても可
>PMDPCM /SDRUMS1.PPC
	とした、"DRUMS1.PPC"は変換可能ですが、

>PMDPCM /C
>PMDPCM 1 BD.SPB
>PMDPCM 4 SD.SPB
>PMDPCM 4 TOM.SPB	<< SD.SPBと 番号が重複している
>PMDPCM /SDRUMS2.PPC
	とした、"DRUMS2.PPC"は変換不可能です。(エラーが出ます。)

	この理由は、上の例で言うと、SD.SPBのPCMデータ情報がPPCに入っていない
	(TOMによって上書きされている)ので、SD.SPBのバイト数が解らない事が
	原因となっています。

	今後、万が一再度PPCフォーマットを変更した場合、当然コンバータを
	用意する訳ですが、このようにして作成されたPPCデータは今回と同様に
	コンバート出来なくなる可能性があります。

	重複定義をすると、使わないPCMデータまでPPCファイル内に埋めこまれ、
	結果としてサイズが必要以上に大きくなってしまいます。このことからも、
	特にデータをアップロードする方は、重複定義したデータをなるべく公開
	しないように、お願いします。

-------------------------------------------------------------------------------
２）	初期のPMDPCM.EXE(v4.0k〜v4.0n)で作成されたPPCファイル。
-------------------------------------------------------------------------------

	これは未確認ですが、PCM音色テーブルの情報が4.1以降の物と異なって
	いる為、"PPCファイルがおかしい"旨エラーが表示されると思われます。

	初期の物は、そうだと判定する情報がPPCファイルの中になく、
	さらにVersionが１個変わる毎に細かい所が変わっているので、
	対応は無理だと判断しました。

-------------------------------------------------------------------------------

	UPされている曲データに付属のPPCは、変換出来ない事はまずないだろうと
	思っていますが、もし変換出来なかった場合は、そのPPCファイル作成者に
	連絡してみて下さい。

-------------------------------------------------------------------------------

P.S.	x8bit modeの高速定義に関して、FMP(Guuさん作のfsw音楽ドライバ)の定義
	方法を多分に参考にさせて頂きました。この場を借りて感謝致します。

===============================================================================
			 ---- End of CVPPC.DOC ----
===============================================================================
