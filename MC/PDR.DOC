===============================================================================

	SSG PCM Driver "PDR.COM" Version 2.9
						by M.Kajihara(KAJA) & 奈緒猫

===============================================================================

	PC-9801上のサウンドボードのSSGを1CH使って、CPUパワーを使って
	PCMを鳴らしてしまおうというのがこのドライバのコンセプトです。
	PC-88VA(PMDVA1,PMDVA)では使用出来ません。

	CPUパワーを使ってがんがん音量の書き換えを行う事によってPCM再生を
	行いますので、遅い機種では動作は保証出来ません。
	特に VM以前の V30の機種ではどうしようもないです(^^;。

	低速モードは 80286 12MHz以上、高速モードは 80386 20MHz以上を
	推奨します。

	再生するPCMのタイプは、KONO氏作のPCMCONV.COMで /n オプションで
	作成出来る、*.SPCファイル(16KHz,4bitPCM)をターゲットとしています。

	２種類以上サウンドボードが挿入されていた場合は、
	デフォルトでは 1.ADPCM-RAM付きYM2608 2.YM2608 3.YM2203 の順に検索し、
	見つけた所を使用します。同じ音源が２枚以上刺さっていた場合は若い
	ポート番号が選択されます。(PMD/B2と同様)

(蛇足)	FMPのPPZや、MUAPのSSGPCMは、SSG３音を利用して、8bitPCM、最大3ch等の
	発音が可能ですが、このPDRでは 4bitPCMの単音(頑張って２音)が限界です。
	何故こうしてるかというと、作者が、
1)	SSG全部つぶれるのはもったいない(かわいそう(^^;))
2)	PMDはゲーム組み込み用ドライバなのでこれ以上重いと耐えられない
	と考える奴だからです(^^;。そのかわり、4bitPCMの限界の音質にまで
	引き上げたつもりです。

===============================================================================

	コマンドラインから、
>PDR /?
	とすると以下のUSAGE表示がなされます。

>SSGPCM(x2)sound driver for PC-9801 Version 2.9
>Copyright (C) 1992,Jul.8th 1994 by NaoNeko,Kaja.
>
>Usage : PDR  [/Option][/Option]･･･
>
>Option: 無し = 常駐又は状態表示
>        /On  = FM音源ポート指定 0=088H 1=188H 2=288H 3=388H def.=auto
>      ? /H   = 高速 Mode(16KHz)に設定
>      ? /L   = 低速 Mode( 8KHz)に設定
>        /D   = Double Mode(最大発音数２)に設定
>      * /S   = Single Mode(最大発音数１)に設定
>        /I   = DI Mode(発音処理中割り込み禁止)に設定
>      * /E   = EI Mode(発音処理中割り込み許可)に設定
>      ? /Wn  = FM音源REG-DATA間のWait回数の設定(1-255,数値省略時は自動判別)
>        /R   = 常駐を解除
>        /?   = ヘルプを表示
>
>      * はdefault, ?は自動判別

	ほぼ無オプションでも動作するようになっていますので、通常使用する
	際には、オプション無しで >PDR として常駐させてしまえばＯＫでしょう。

	以下にオプションの詳細を記します。

/On	ＦＭ音源ポートを指定します。デフォルトではPMD/B2と同じポートを選択
	するようになっていますが、SPB+86Bで PMD86 を使用している場合や、
	PMDの /O オプションを使用する場合は、このオプションを指定する必要が
	あります。
	指定値は 0 で 088H、以下1〜3 で ?88H となります。

/H	高速 Mode(16KHz)に設定
/L	低速 Mode( 8KHz)に設定
	高速モードでは、16KHzの音をそのまま1秒間16,000回の音量設定によって
	16KHzとして再生します。
	低速モードでは、16KHzの音を1サンプリング毎に1つ読み飛ばして、1秒間に
	8,000回の音量設定をし、実質8KHzとして再生します。
	デフォルトでは常駐時にCPUの速度を測定し、速い機種なら/Hを、そうでない
	機種では/Lを自動設定します。

/D	Double Mode(最大発音数２)に設定
/S	Single Mode(最大発音数１)に設定
	最大発音数を１とするか２とするかを設定します。
	/Dにした場合、１音目を再生中に２音目を再生させると、合成して
	再生されるようになります。
	３音目を鳴らそうとした場合は１音目（古い方）が消されます。
	但し、/Dとした場合、合成時の音質の劣化が見られますので、
	デフォルトでは /S(最大発音数１) となっています。

/I	DI Mode(発音処理中割り込み禁止)に設定
/E	EI Mode(発音処理中割り込み許可)に設定
	Timer割り込み中に他の割り込みを許可するかどうかを設定します。
	デフォルトでは /E(許可)ですが、他のTSRと相性が悪かった場合は、
	/I(禁止)に設定して下さい。
	通信中に曲を演奏する、といった場合は、/Iを指定すると確実に文字落ち
	すると思われますので注意して下さい。

/Wn	FM音源REG-DATA間のWait回数の設定(1-255,数値省略時は自動判別)
	FM音源のRegister出力 -> Data出力までの Wait値を設定します。
	省略すると、音源によって、適当なWaitが入るように自動設定されます。
	値が小さくなる程 ドライバが軽くなり、音源が不安定になります。
	通常はデフォルトのままにしておくのが無難です。

/R	常駐を解除
	PDRを常駐解除します。

/?	ヘルプを表示
	USAGEとオプション一覧を表示します。

	/H,/L,/D,/S,/I,/E,/Wの各オプションは、常駐後であっても変更が
	可能です。例えば、高速モードで常駐したPDRを低速モードにするには、
>PDR /L
	とするだけでOKです。

===============================================================================

	PDR.COMを直接操作して、.SPCファイルを発音するには、
	同梱の PUT.COM を使用します。

	PDRを常駐後、

>PUT filename[.SPC]

	とすると、その音が発音されます。
	最大 62KB までの音が発音出来ます。

===============================================================================
			    --- End of PDR.DOC ---
===============================================================================
