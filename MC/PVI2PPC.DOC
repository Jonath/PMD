===============================================================================

	FMP->PMD ADPCM Converter PVI2PPC Document
						by M.Kajihara (KAJA)

===============================================================================

	FMP用の *.PVI ファイルを、PMDB2/VA用の *.PPC ファイルに
	コンバートするユーティリティです。

	使用方法は、
>pvi2ppc filename[.pvi]
	とするだけです。

===============================================================================
	注意点
-------------------------------------------------------------------------------

1.	PMDB2とFMPはそれぞれ、PCM再生周波数が、
		PMDB2････o5g = 16000Hz
		FMP  ････o5c = 16000Hz
	となっています。

	そのまま使用すると、MMLをコンバートする際は、PMDのMMLで _+7 等
	の転調処理が必要になりますので注意して下さい。

-------------------------------------------------------------------------------

2.	PCME(0.20d)で.POIでないファイルを使って.PVIを作成した時は、START/STOPの
	TABLEが狂います。当然、それをPPCに変換しても狂ったTABLEはそのままです｡

	FMPは、MML上でSTART/STOPを修正出来るようになっているのでなんとか
	対処は可能なのですが、PMDはそのような機能はないので、これが
	特に問題になってきます。

	これを抑制するには、PVIを作る前に、総てのPCMファイルの大きさを
	32byteで割り切れるように、バイナリエディタ等で 88H 等をFILEの最後に
	追加すれば大丈夫なようです。
	POIヘッダを単に追加しても、32byte単位にしなければ変わらないと
	思われるので、上記のようにする必要があるでしょう。
	(PCMEで作成される.POIは必ず32byte単位で割り切れるようになっています)

-------------------------------------------------------------------------------

3.	PVIは RAMTYPE x1bitに対応しているが、PPCは対応していませんので、
	PVI->PPC変換時、RAMTYPEがx1bitならば変換を中止します。

===============================================================================
	終わりに
-------------------------------------------------------------------------------

	このコンバータを作成したのは、Guuさんの提案した"FMP&PMD PCM共通化計画"
	がもとになっています。

	今の所PMDは、PMP等のプレイヤ上から、.PVIも.PPCと同様に使用出来るように
	拡張しました。 (MML上で #PPCFile PCM.PVI といった指定が可能です。)

	共通化FORMATを作成する計画もありましたが、86系の音源ボードが主流に
	なっていっている今、この計画はかなり滞っています。
	が、86系のPCMフォーマットについては、今後も共通化を図っていきたいたい
	方針です。

===============================================================================
			---- End of PVI2PPC.DOC ----
===============================================================================
